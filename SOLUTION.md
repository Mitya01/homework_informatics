# Лабораторная работа по теме "Планировщик задач cron"

## Задание лабораторной работы 

На основе изученного материала лабораторной работы, напишите скрипт, который будет выполнять резервное копирование указанной директории в заданное время. Выводите в отдельный файл информацию о том, что резервное копирование совершилось. Для резервного копирования используйте встроеннный архиватор tar.

## Решение задания

Создание bash-скрипта
```bash
gedit backup.sh
```

Примерный код, который надо написать в нем

```bash
#!/bin/bash
     
SOURCE_DIR="/path/to/source"  
     
BACKUP_DIR="/path/to/backup"   
     
TIMESTAMP=$(date +"%Y%m%d_%H%M%S")

OUTPUT_FILE="/path/to/output.txt" 
     
tar -czvf "$BACKUP_DIR/backup_$TIMESTAMP.tar.gz" "$SOURCE_DIR"
     
echo "Резервное копирование завершено: $TIMESTAMP" >> "$OUTPUT_FILE"
```

![Снимок экрана 2024-12-25 230551](https://github.com/user-attachments/assets/d4fbc826-4f75-472d-9ca7-37e5c3d1d369)

Нужно сделать скрипт исполняемым:

```bash
chmod +x backup.sh
 ```

Затем нужно открыть crontab для редактирования

```bash
crontab -e
```

Там нужно добавить следующую строку (это означает, что резервное копирование будет проходить каждую минуту; нужные параметры можно задать):

```
* * * * * /path/to/backup.sh
```

![Снимок экрана 2024-12-25 215658](https://github.com/user-attachments/assets/8a251cf8-d280-497f-891e-469cd26f572e)

Можно проверить создание, выполнив:

```bash
crontab -l
```

![Снимок экрана 2024-12-25 230551](https://github.com/user-attachments/assets/fec5e144-7a84-492f-a6ae-6259b0ca693c)

Также в файле `output.txt` должна выводиться информация о том, что резервное копирование прошло.

![Снимок экрана 2024-12-25 215719](https://github.com/user-attachments/assets/6069b53f-67f2-48a8-9ef0-01a1da9edc23)

Примерная структура файлов (в crontablist хранится записанный crontab)

![Снимок экрана 2024-12-25 215822](https://github.com/user-attachments/assets/d1de132b-090c-4686-9dbd-64fc98032b11)
